<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Promos with Prequal</title>

<script>
	_affirm_config = {
		public_api_key: "M5XIH3MOEP5S7IIZ",
		script: "https://cdn1-sandbox.affirm.com/js/v2/affirm.js"
	};
	(function(l,g,m,e,a,f,b){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready");
</script>
<link rel="stylesheet" href="default.css">
</head>
<body>
<h1>Product Testing</h1>
<h2>Promos with Prequal</h2>
<h3>prod-sandbox</h3>
<div class="section">
	<div class="case happy">
		<h4>Case #1</h4>
		<h3>ALA with Prequal</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-as-low-as" data-amount="50000" data-promo-id="promo_set_prequal_enabled"></span>
	</div>
	<div class="result">
		Should open new prequal modal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case happy">
		<h4>Case #2</h4>
		<h3>Product Modal with Prequal</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-product-modal" data-amount="50000" data-promo-id="promo_set_prequal_enabled">Click me!</span>
	</div>
	<div class="result">
		Should open new prequal modal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case happy">
		<h4>Case #3</h4>
		<h3>Site Modal with Prequal</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-site-modal" data-promo-id="promo_set_prequal_enabled">Click me!</span>
	</div>
	<div class="result">
		Should open new prequal modal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #5</h4>
		<h3>ALA with no Promo ID</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>None</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>n/a</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-as-low-as" data-amount="50000"></span>
	</div>
	<div class="result">
		Should open default ALA modal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #6</h4>
		<h3>ALA with invalid Promo ID</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Invalid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>n/a</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-as-low-as" data-amount="50000" data-promo-id="promo_set_nonexistent"></span>
	</div>
	<div class="result">
		Should open default ALA modal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #7</h4>
		<h3>ALA with Prequal disabled in Promoset</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>False</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-as-low-as" data-amount="50000" data-promo-id="promo_set_prequal_disabled"></span>
	</div>
	<div class="result">
		Should open custom ALA modal, no Prequal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case happy">
		<h4>Case #9</h4>
		<h3>ALA with price updates</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> Check modal. Then enter new price, click 'update' button, and check modal again.
		</div>
	<div class="content">
		<span id="case_9-ala" class="affirm-as-low-as" data-amount="50000" data-promo-id="promo_set_prequal_enabled"></span>
		<br/>
		<input id="case_9-amount" class="field" type="text" value="50000">
		<br/>
		<div class="button" id="case_9-button">Update</div>
	</div>
	<div class="result">
		Should open new prequal modal with correct price referenced.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #10</h4>
		<h3>ALA < $50</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-as-low-as" data-amount="4999" data-promo-id="promo_set_prequal_enabled"></span>
	</div>
	<div class="result">
		Should render no messaging, no modal, no Prequal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case happy">
		<h4>Case #11</h4>
		<h3>$50 < ALA < Program floor</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-as-low-as" data-amount="19999" data-promo-id="promo_set_prequal_enabled"></span>
	</div>
	<div class="result">
		Should open new prequal modal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #12</h4>
		<h3>Product Modal, invalid Promo ID</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>Regression</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Invalid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-product-modal" data-amount="50000" data-promo-id="promo_set_prequal_nonexistent">Click me!</span>
	</div>
	<div class="result">
		Should open default product modal, no prequal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #13</h4>
		<h3>Product Modal, disabled at Promoset</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>False</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-product-modal" data-amount="50000" data-promo-id="promo_set_prequal_disabled">Click me!</span>
	</div>
	<div class="result">
		Should open custom product modal, no prequal.
	</div>
	</div>
</div>
<div class="section">
	<div class="case happy">
		<h4>Case #15</h4>
		<h3>Product Modal, price updates</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>True</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> Check modal. Then enter new price, click 'update' button, and check modal again.
		</div>
	<div class="content">
		<span id="case_15-ala" class="affirm-product-modal" data-amount="50000" data-promo-id="promo_set_prequal_enabled">Click me!</span>
		<br/>
		<input id="case_15-amount" class="field" type="text" value="50000">
		<br/>
		<div class="button" id="case_15-button">Update</div>
	</div>
	<div class="result">
		Should open new prequal modal with correct price referenced.
	</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #16</h4>
		<h3>Site Modal, disabled at Promoset</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>New feature</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>False</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>True</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
	<div class="content">
		<span class="affirm-site-modal" data-promo-id="promo_set_prequal_disabled">Click me!</span>
	</div>
	<div class="result">
		Should open custom product modal, no prequal.
	</div>
	</div>
</div>
<script>
// case #9 setup
	var case_9_button = document.getElementById('case_9-button');
	var case_9_amount = document.getElementById('case_9-amount');
	var case_9_ala = document.getElementById('case_9-ala');
	case_9_button.addEventListener('click',function(){case9Refresh()});
	case_9_button.addEventListener('touch',function(){case9Refresh()});
	function case9Refresh() {
		var _a = case_9_amount.value;
		case_9_ala.setAttribute('data-amount',_a);
		affirm.ui.refresh();
	}

// case #15 setup
	var case_15_button = document.getElementById('case_15-button');
	var case_15_amount = document.getElementById('case_15-amount');
	var case_15_ala = document.getElementById('case_15-ala');
	case_15_button.addEventListener('click',function(){case15Refresh()});
	case_15_button.addEventListener('touch',function(){case15Refresh()});
	function case15Refresh() {
		var _a = case_15_amount.value;
		case_15_ala.setAttribute('data-amount',_a);
		affirm.ui.refresh();
	}
</script>
</body>
</html>