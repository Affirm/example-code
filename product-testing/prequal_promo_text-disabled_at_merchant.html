<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Prequal Promo Text disabled at merchant</title>

<script>
	_affirm_config = {
		public_api_key: "RC9BBKRDHU2096OO",
		script: "https://cdn1-sandbox.affirm.com/js/v2/affirm.js"
	};
	(function(l,g,m,e,a,f,b){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready");
</script>
<link rel="stylesheet" href="default.css">
</head>
<body>
<h1>Product Testing</h1>
<h2>Prequal Promo Text, Prequal disabled at merchant</h2>
<h3>prod-sandbox</h3>
<div class="section">
	<div class="case unhappy">
		<h4>Case #18</h4>
		<h3>Prequal Promo Text, Prequal disabled at merchant</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>Regression</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>Valid</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>n/a</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>False</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> none
		</div>
		<div class="content">
			<span class="affirm-prequal-text" data-promo-id="prequal_text_default"></span>
		</div>
		<div class="result">
			Should open old Prequal modal, but using CTA results in error.
		</div>
	</div>
</div>
<div class="section">
	<div class="case unhappy">
		<h4>Case #20</h4>
		<h3>Prequal Widget (legacy)</h3>
		<div class="details">
			<table>
				<tr>
					<td>Type</td>
					<td>Regression</td>
				</tr>
				<tr>
					<td>Promo ID</td>
					<td>n/a</td>
				</tr>
				<tr>
					<td>Prequal enabled @ promoset</td>
					<td>n/a</td>
				</tr>
				<tr>
					<td>Prequal enabled @ merchant</td>
					<td>False</td>
				</tr>
			</table>
		</div>
		<div class="instructions">
			<u>Instructions:</u> Click 'show widget' button, then click CTA.
		</div>
		<div class="content">
			<div id="start_widget" class="button">Render Prequal Widget</div>
		</div>
		<div class="result">
			Should render prequal widget/banner at the bottom. Clicking CTA should result in an error.
		</div>
	</div>
</div>
<script>
	affirm.ui.ready(function(){
    //define the Prequal JSON object
    var affirm_prequal_config = {
    "page_type": "home"
    };
    //set the Prequal configuration
    affirm.prequal.set(affirm_prequal_config);
    var start_widget_button = document.getElementById('start_widget')
    start_widget_button.addEventListener('click',function(){affirm.ui.prequal.show();})
    start_widget_button.addEventListener('touch',function(){affirm.ui.prequal.show();})
});
</script>
</body>
</html>